<section class="bg-banner-image bg-blend-overlay bg-gray-700">
  <div class="container mx-auto max-w-screen-xl px-4 py-8 text-center lg:px-12 lg:py-16">
    <h1
      class="mb-4 mt-8 text-4xl font-extrabold leading-none tracking-tight text-green-600 md:text-5xl lg:text-6xl"
    >
      Pickup History
    </h1>

    <p
      class="mb-8 text-lg font-normal text-gray-100 sm:px-16 lg:text-xl xl:px-48 dark:text-gray-400"
    >
      View all your pickups history here
    </p>

    <% if (user) { %>
    <div
      class="mb-8 flex flex-col space-y-4 sm:flex-row sm:justify-center sm:space-x-4 sm:space-y-0 lg:mb-16"
    >
      <a
        href="/schedule"
        class="inline-flex items-center justify-center rounded-lg bg-green-700 px-5 py-3 text-center text-base font-medium text-white hover:bg-green-800 focus:ring-4 focus:ring-green-300 dark:focus:ring-green-900"
      >
        Request A Pickup
      </a>
      <a
        href="/pickups"
        class="inline-flex items-center justify-center rounded-lg border border-gray-300 px-5 py-3 text-center text-base font-medium text-gray-100 hover:bg-gray-100 hover:text-black focus:ring-4 focus:ring-gray-100 dark:border-gray-700 dark:text-white dark:hover:bg-gray-700 dark:focus:ring-gray-800"
      >
        View Pickups
      </a>
    </div>
    <% } else { %>
    <div
      class="mb-8 flex flex-col space-y-4 sm:flex-row sm:justify-center sm:space-x-4 sm:space-y-0 lg:mb-16"
    >
      <a
        href="/register"
        class="inline-flex items-center justify-center rounded-lg bg-green-700 px-5 py-3 text-center text-base font-medium text-white hover:bg-green-800 focus:ring-4 focus:ring-green-300 dark:focus:ring-green-900"
      >
        Register
      </a>
      <a
        href="/login"
        class="inline-flex items-center justify-center rounded-lg border border-gray-300 px-5 py-3 text-center text-base font-medium text-gray-100 hover:bg-gray-100 hover:text-black focus:ring-4 focus:ring-gray-100 dark:border-gray-700 dark:text-white dark:hover:bg-gray-700 dark:focus:ring-gray-800"
      >
        Login
      </a>
    </div>
    <% } %>
  </div>
</section>

<section class="bg-gray-50 dark:bg-gray-900 p-3 sm:p-5">
  <div class="mx-auto max-w-screen-xl px-4 lg:px-12">
    <!-- Start coding here -->
    <div class="bg-white dark:bg-gray-800 relative shadow-md sm:rounded-lg overflow-hidden">
      <div class="overflow-x-auto">
        <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
          <thead
            class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"
          >
            <tr>
              <th scope="col" class="px-4 py-3">Pickup Date</th>
              <th scope="col" class="px-4 py-3">Pickup Address</th>
              <th scope="col" class="px-4 py-3">Pickup lga</th>
              <th scope="col" class="px-4 py-3">quantity (trash bin)</th>
              <th scope="col" class="px-4 py-3">status</th>
            </tr>
          </thead>
          <tbody>
            <% pickups.forEach(function(pickup) { %>
            <tr class="border-b dark:border-gray-700">
              <th
                scope="row"
                class="px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white"
              >
                <%= new Date(pickup.date).toDateString() %>
              </th>
              <td class="px-4 py-3"><%= pickup.address %></td>
              <td class="px-4 py-3"><%= pickup.lga %></td>
              <td class="px-4 py-3"><%= pickup.quantity%></td>

              <% if (pickup.status === 'pending') { %>
              <td class="px-4 py-3">
                <span
                  class="bg-yellow-100 text-yellow-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-full dark:bg-yellow-900 dark:text-yellow-300"
                  ><%= pickup.status %></span
                >
              </td>

              <% } else if (pickup.status === 'success') { %>
              <td class="px-4 py-3">
                <span
                  class="bg-green-100 text-green-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-full dark:bg-green-900 dark:text-green-300"
                  ><%= pickup.status %></span
                >
              </td>
              <% } else { %>
              <td class="px-4 py-3">
                <span
                  class="bg-red-100 text-red-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-full dark:bg-red-900 dark:text-red-300"
                  ><%= pickup.status %></span
                >
              </td>
              <% } %>
            </tr>

            <% }); %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</section>
